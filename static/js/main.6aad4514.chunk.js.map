{"version":3,"sources":["assets/img/logo.svg","components/UserLink/UserLink.js","context/SendsayContext.js","components/Button/icon-loading.svg","components/Button/Button.js","components/Alert/Alert.js","utils/index.js","components/LoginForm/LoginForm.js","components/LoginContainer/LoginContainer.js","components/VisuallyHidden/VisuallyHidden.js","components/Header/icon-logout.svg","components/Header/icon-fullscreen.svg","components/Header/icon-partscreen.svg","components/Header/Header.js","assets/img/icon-dots.svg","components/RequestDropdown/RequestDropdown.js","components/Scrollable/Scrollable.js","components/History/icon-cross.svg","components/History/History.js","components/Editor/Editor.js","components/Separator/Separator.js","components/EditorsSet/EditorsSet.js","components/Actions/icon-format.svg","components/Actions/Actions.js","components/Console/Console.js","components/App/App.js","redux/actionTypes/index.js","redux/reducers/index.js","configureStore.js","index.js"],"names":["module","exports","UserLink","className","href","target","rel","SendsayContext","React","createContext","Sendsay","_extends","Object","assign","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","_ref2","createElement","opacity","d","attributeName","from","to","dur","repeatCount","begin","_ref3","_ref4","_ref5","_ref6","_ref7","_ref8","_ref9","_ref","svgRef","title","props","viewBox","width","height","fill","ref","ForwardRef","forwardRef","Button","children","loading","type","restParams","Alert","text","formatJSON","value","space","JSON","stringify","isEqual","object1","object2","setPropertyValue","element","property","style","setProperty","validate","string","regexpTest","pattern","test","trim","Error","LoginForm","sendsay","useContext","dispatch","useDispatch","useState","isActiveValidation","setIsActiveValidation","isLoginValid","setIsLoginValid","isPasswordValid","setIsPasswordValid","isDisabled","setIsDisabled","isLoading","setIsLoading","isErrorHappened","setIsErrorHappened","errorMessage","setErrorMessage","login","sublogin","password","inputs","setInputs","handleChange","event","name","useEffect","onSubmit","preventDefault","loginValidity","passwordValidity","validateFields","then","session","catch","error","htmlFor","id","onChange","disabled","LoginContainer","src","logo","alt","VisuallyHidden","stroke","strokeWidth","strokeLinecap","strokeLinejoin","Header","mainRef","account","useSelector","state","isFullScreen","setIsFullScreen","handleFullScreen","document","addEventListener","removeEventListener","onClick","request","action","console","log","finally","exitFullscreen","current","requestFullscreen","cx","cy","r","RequestDropdown","dropdownDataSource","historyItem","isMenuVisible","setMenuVisibility","isMenuPositioned","setMenuPositioned","isNotificationVisible","setNotificationVisibility","requestDropdownRef","useRef","requestDropdownMenuRef","toggleMenu","dropdownBounds","getBoundingClientRect","menu","menuBounds","isLeftBoundPassed","right","isBottomBoundPassed","bottom","window","innerHeight","leftMenuCoord","left","topMenuCoord","top","positionMenu","handleDocumentClick","contains","handleDocumentKeyPress","status","map","set","index","item","isDestructive","callback","withNotificationCallback","setTimeout","Scrollable","childClassName","scrollDelta","setScrollDelta","scrollableContainerRef","scrollableContentRef","onWheel","scrollContainerWidth","offsetWidth","scrollContentWidth","transformValue","scrollPeriod","deltaY","History","onLoadRequestFromHistory","onExecuteRequestFromHistory","requestHistory","handleLoad","navigator","clipboard","writeText","response","uuidv4","Editor","readOnly","editorSettings","theme","mode","lineWrapping","onBeforeChange","editor","data","options","Separator","handleDrag","isDragging","setIsDragging","separatorRef","removeDrag","onMouseDown","EditorsSet","requestValue","responseValue","isRequestValid","isResponseValid","editorsResizeDelta","editorSetRef","useLayoutEffect","resizeDelta","delta","movementX","Actions","performRequest","formatRequest","Console","requestJSON","setRequestJSON","responseJSON","setResponseJSON","setRequestValidity","setResponseValidity","isRequestEmpty","setRequestEmptiness","needToPerformRequest","setNeedToPerformRequest","handleResponse","includedElement","filter","validateRequest","parse","result","performRequestCallback","useCallback","newValue","App","userData","Provider","actionTypes","initialState","persistConfig","storage","persistedReducer","persistReducer","requestHistoryCopy","slice","unshift","requestHistoryFilteredCopy","store","createStore","persistor","persistStore","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.6aad4514.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo.ae128836.svg\";","import React from 'react';\nimport './UserLink.css';\n\nconst UserLink = () => {\n  return (\n    <a className=\"user-link\" href=\"https://github.com/juwain\" target=\"_blank\" rel=\"noreferrer noopener\">@juwain</a>\n  );\n}\n\nexport { UserLink };\n","import React from 'react';\nimport Sendsay from 'sendsay-api';\n\nexport const SendsayContext = React.createContext(new Sendsay());\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  opacity: 0.1,\n  d: \"M14 0h4v8h-4z\"\n}, /*#__PURE__*/React.createElement(\"animate\", {\n  attributeName: \"opacity\",\n  from: 1,\n  to: 0.1,\n  dur: \"1s\",\n  repeatCount: \"indefinite\",\n  begin: 0\n}));\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  opacity: 0.1,\n  d: \"M25.9 3.272l2.828 2.83-5.657 5.655-2.827-2.828z\"\n}, /*#__PURE__*/React.createElement(\"animate\", {\n  attributeName: \"opacity\",\n  from: 1,\n  to: 0.1,\n  dur: \"1s\",\n  repeatCount: \"indefinite\",\n  begin: \"0.125s\"\n}));\n\nvar _ref4 = /*#__PURE__*/React.createElement(\"path\", {\n  opacity: 0.1,\n  d: \"M32 14v4h-8v-4z\"\n}, /*#__PURE__*/React.createElement(\"animate\", {\n  attributeName: \"opacity\",\n  from: 1,\n  to: 0.1,\n  dur: \"1s\",\n  repeatCount: \"indefinite\",\n  begin: \"0.25s\"\n}));\n\nvar _ref5 = /*#__PURE__*/React.createElement(\"path\", {\n  opacity: 0.1,\n  d: \"M28.728 25.9l-2.83 2.828-5.655-5.657 2.828-2.827z\"\n}, /*#__PURE__*/React.createElement(\"animate\", {\n  attributeName: \"opacity\",\n  from: 1,\n  to: 0.1,\n  dur: \"1s\",\n  repeatCount: \"indefinite\",\n  begin: \"0.375s\"\n}));\n\nvar _ref6 = /*#__PURE__*/React.createElement(\"path\", {\n  opacity: 0.1,\n  d: \"M18 32h-4v-8h4z\"\n}, /*#__PURE__*/React.createElement(\"animate\", {\n  attributeName: \"opacity\",\n  from: 1,\n  to: 0.1,\n  dur: \"1s\",\n  repeatCount: \"indefinite\",\n  begin: \"0.5s\"\n}));\n\nvar _ref7 = /*#__PURE__*/React.createElement(\"path\", {\n  opacity: 0.1,\n  d: \"M6.1 28.728l-2.828-2.83 5.657-5.655 2.827 2.828z\"\n}, /*#__PURE__*/React.createElement(\"animate\", {\n  attributeName: \"opacity\",\n  from: 1,\n  to: 0.1,\n  dur: \"1s\",\n  repeatCount: \"indefinite\",\n  begin: \"0.625s\"\n}));\n\nvar _ref8 = /*#__PURE__*/React.createElement(\"path\", {\n  opacity: 0.1,\n  d: \"M0 18v-4h8v4z\"\n}, /*#__PURE__*/React.createElement(\"animate\", {\n  attributeName: \"opacity\",\n  from: 1,\n  to: 0.1,\n  dur: \"1s\",\n  repeatCount: \"indefinite\",\n  begin: \"0.75s\"\n}));\n\nvar _ref9 = /*#__PURE__*/React.createElement(\"path\", {\n  opacity: 0.1,\n  d: \"M3.272 6.1l2.83-2.828 5.655 5.657-2.828 2.827z\"\n}, /*#__PURE__*/React.createElement(\"animate\", {\n  attributeName: \"opacity\",\n  from: 1,\n  to: 0.1,\n  dur: \"1s\",\n  repeatCount: \"indefinite\",\n  begin: \"0.875s\"\n}));\n\nvar SvgIconLoading = function SvgIconLoading(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 32 32\",\n    width: 20,\n    height: 20,\n    fill: \"#fff\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2, _ref3, _ref4, _ref5, _ref6, _ref7, _ref8, _ref9);\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgIconLoading, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/icon-loading.fe55b663.svg\";\nexport { ForwardRef as ReactComponent };","import React from 'react';\nimport './Button.css';\n\nimport { ReactComponent as Spinner } from './icon-loading.svg';\n\nconst Button = ({ className, children, loading, type='button', ...restParams }) => {\n  return (\n    <button className={`${className} button`} {...restParams} type={type}>\n      {loading ?\n        <Spinner />\n      :\n        children\n      }\n    </button>\n  );\n}\n\nexport { Button };\n","import React from 'react';\nimport './Alert.css';\n\nconst Alert = ({ className, title, text }) => {\n  return (\n    <div className={`${className} alert`}>\n      <h2 className=\"alert__title\">{title}</h2>\n      <p className=\"alert__text\">{text}</p>\n    </div>\n  );\n}\n\nexport { Alert };\n","export const formatJSON = (value, space='\\t' ) => {\n  return JSON.stringify(value, null, space);\n}\n\nexport const isEqual = (object1, object2) => {\n  return JSON.stringify(object1) === JSON.stringify(object2);\n}\n\nexport const setPropertyValue = (element, property, value) => {\n  element.style.setProperty(property, value);\n}\n\nexport const validate = (string, type) => {\n  const regexpTest = (string, pattern) => {\n    return pattern.test(string);\n  }\n\n  switch (type) {\n    case 'trimmedEmptiness':\n      return string.trim().length !== 0;\n\n    case 'email':\n      const emailPattern = /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n      return regexpTest(string, emailPattern);\n\n    case 'username':\n      const usernamePattern = /^[a-zA-Z0-9_]+$/;\n      return regexpTest(string, usernamePattern);\n\n    case 'password':\n      const passwordPattern = /^[^а-яА-Я]+$/;\n      return regexpTest(string, passwordPattern);\n\n    default:\n      throw new Error();\n  }\n}\n","import React, { useState, useContext, useEffect } from 'react';\nimport { useDispatch } from 'react-redux';\nimport { SendsayContext } from '../../context/SendsayContext';\nimport { Button } from '../Button/Button';\nimport { Alert } from '../Alert/Alert';\nimport { formatJSON, validate } from '../../utils';\nimport './LoginForm.css';\n\nconst LoginForm = ({ className }) => {\n  const sendsay = useContext(SendsayContext);\n  const dispatch = useDispatch();\n\n  const [isActiveValidation, setIsActiveValidation] = useState(false);\n  const [isLoginValid, setIsLoginValid] = useState(false);\n  const [isPasswordValid, setIsPasswordValid] = useState(false);\n  const [isDisabled, setIsDisabled] = useState(true);\n  const [isLoading, setIsLoading] = useState(false);\n  const [isErrorHappened, setIsErrorHappened] = useState(false);\n  const [errorMessage, setErrorMessage] = useState('');\n\n  const [inputs, setInputs] = useState({\n    login: '',\n    sublogin: '',\n    password: ''\n  });\n\n  const { login, sublogin, password } = inputs;\n\n  const validateFields = () => {\n    // логином может быть как email, так и строка\n    // из латинских букв, цифр и подчеркиваний\n    const loginValidity =\n      validate(login, 'trimmedEmptiness') && (\n        validate(login, 'email') ||\n        validate(login, 'username')\n      );\n\n    // в пароле пробелы могут встречаться, а кириллица — нет\n    const passwordValidity = validate(password, 'password');\n\n    // сайд эффектом проверки валидности инпута\n    // задаётся состояние isLoginValid и isPasswordValid\n    setIsLoginValid(loginValidity);\n    setIsPasswordValid(passwordValidity);\n\n    return loginValidity && passwordValidity;\n  }\n\n  const performLogin = () => {\n    setIsLoading(true);\n\n    sendsay.login({\n      login,\n      sublogin,\n      password\n    }).then(() =>\n      dispatch({\n        type: 'login',\n        session: sendsay.session\n      })\n    ).catch(error => {\n      setIsErrorHappened(true);\n      setErrorMessage(formatJSON(error, ' '));\n      setIsLoading(false);\n    })\n  }\n\n  const handleChange = (event) => {\n    const { name, value } = event.target;\n\n    setInputs(inputs => ({ ...inputs, [name]: value }));\n\n    if (isActiveValidation) {\n      setIsActiveValidation(false);\n    }\n  }\n\n  const handleSubmit = (event) => {\n    event.preventDefault();\n\n    if (!validateFields()) {\n      setIsActiveValidation(true);\n    } else {\n      performLogin();\n    }\n  }\n\n  useEffect(() => {\n    setIsDisabled(!login || !password)\n  }, [login, password])\n\n  return (\n    <form className={`${className} login-form`} onSubmit={handleSubmit}>\n      <h1 className=\"login-form__heading\">API‑консолька</h1>\n\n      {isErrorHappened &&\n        <Alert className=\"login-form__alert alert--warn\" title=\"Вход не вышел\" text={errorMessage} />\n      }\n\n      <p className={`\n        login-form__item\n        ${isActiveValidation && !isLoginValid ? 'login-form__item--invalid' : ''}\n      `}>\n        <label className=\"login-form__label\" htmlFor=\"login\">Логин</label>\n        <input className=\"login-form__input\" type=\"text\" name=\"login\" id=\"login\" value={login} onChange={handleChange} />\n      </p>\n\n      <p className=\"login-form__item\">\n        <label className=\"login-form__label\" htmlFor=\"sublogin\">Сублогин</label>\n        <span className=\"login-form__annotation\">Опционально</span>\n        <input type=\"text\" name=\"sublogin\" id=\"sublogin\" value={sublogin} onChange={handleChange} className=\"login-form__input\" />\n      </p>\n\n      <p className={`\n        login-form__item\n        ${isActiveValidation && !isPasswordValid ? 'login-form__item--invalid' : ''}\n      `}>\n        <label className=\"login-form__label\" htmlFor=\"password\">Пароль</label>\n        <input className=\"login-form__input\" type=\"password\" name=\"password\" id=\"password\" value={password} onChange={handleChange} />\n      </p>\n\n      <Button\n        className=\"login-form__button button--primary button--blue button--rounded button--padded\"\n        type=\"submit\"\n        disabled={isDisabled}\n        loading={isLoading}\n      >\n        Войти\n      </Button>\n    </form>\n  );\n}\n\nexport { LoginForm };\n","import React from 'react';\nimport { UserLink } from '../UserLink/UserLink';\nimport { LoginForm } from '../LoginForm/LoginForm';\nimport logo from '../../assets/img/logo.svg';\nimport './LoginContainer.css';\n\nconst LoginContainer = () => {\n  return (\n    <section className=\"login-container\">\n      <header className=\"login-container__header\">\n        <img src={logo} alt=\"Sendsay logo\" />\n      </header>\n\n      <LoginForm className=\"login-container__form\" />\n\n      <footer className=\"login-container__footer\">\n        <UserLink />\n      </footer>\n    </section>\n  );\n}\n\nexport { LoginContainer };\n","import React from 'react';\nimport './VisuallyHidden.css';\n\nconst VisuallyHidden = ({ children }) => {\n  return (\n    <span className=\"visually-hidden\">{children}</span>\n  );\n}\n\nexport { VisuallyHidden };\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"g\", {\n  opacity: 0.8,\n  stroke: \"currentColor\",\n  strokeWidth: 2,\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\"\n}, /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M9 21H5c-.53 0-1.04-.21-1.414-.586C3.21 20.04 3 19.53 3 19V5c0-.53.21-1.04.586-1.414C3.96 3.21 4.47 3 5 3h4M16 17l5-5-5-5M21 12H9\"\n}));\n\nvar SvgIconLogout = function SvgIconLogout(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 24,\n    height: 24,\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2);\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgIconLogout, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/icon-logout.e4d323ce.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M1 6h3c.53 0 1.04-.21 1.414-.586C5.79 5.04 6 4.53 6 4V1m8 0v3c0 .53.21 1.04.586 1.414C14.96 5.79 15.47 6 16 6h3m0 8h-3c-.53 0-1.04.21-1.414.586C14.21 14.96 14 15.47 14 16v3m-8 0v-3c0-.53-.21-1.04-.586-1.414C5.04 14.21 4.53 14 4 14H1\",\n  stroke: \"currentColor\",\n  strokeWidth: 2,\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\"\n});\n\nvar SvgIconFullscreen = function SvgIconFullscreen(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 20,\n    height: 20,\n    viewBox: \"0 0 20 20\",\n    fill: \"none\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2);\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgIconFullscreen, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/icon-fullscreen.7e47c887.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M6 1H3c-.53 0-1.04.21-1.414.586C1.21 1.96 1 2.47 1 3v3m18 0V3c0-.53-.21-1.04-.586-1.414C18.04 1.21 17.53 1 17 1h-3m0 18h3c.53 0 1.04-.21 1.414-.586C18.79 18.04 19 17.53 19 17v-3M1 14v3c0 .53.21 1.04.586 1.414C1.96 18.79 2.47 19 3 19h3\",\n  stroke: \"currentColor\",\n  strokeWidth: 2,\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\"\n});\n\nvar SvgIconPartscreen = function SvgIconPartscreen(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 20,\n    height: 20,\n    viewBox: \"0 0 20 20\",\n    fill: \"none\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2);\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgIconPartscreen, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/icon-partscreen.01e44a25.svg\";\nexport { ForwardRef as ReactComponent };","import React, { useState, useContext, useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { SendsayContext } from '../../context/SendsayContext';\nimport { Button } from '../Button/Button';\nimport { VisuallyHidden } from '../VisuallyHidden/VisuallyHidden';\nimport { ReactComponent as IconLogout } from './icon-logout.svg';\nimport { ReactComponent as IconFullScreen } from './icon-fullscreen.svg';\nimport { ReactComponent as IconPartScreen } from './icon-partscreen.svg';\nimport logo from '../../assets/img/logo.svg';\nimport './Header.css';\n\nconst Header = ({ className, mainRef }) => {\n  const sendsay = useContext(SendsayContext);\n  const dispatch = useDispatch();\n  const account = useSelector(state => state.account);\n  const sublogin = useSelector(state => state.sublogin);\n  const [isFullScreen, setIsFullScreen] = useState(false);\n\n  const toggleFullScreen = () => {\n    let fullScreenPromise = isFullScreen ?\n      document.exitFullscreen()\n    :\n      mainRef.current.requestFullscreen();\n\n    fullScreenPromise.catch(() => {\n      console.log('error');\n    });\n  }\n\n  const handleFullScreen = () => setIsFullScreen(!isFullScreen);\n\n  const performLogout = () => {\n    sendsay.request({\n      action: 'logout'\n    }).catch(error =>\n      console.log(error)\n    ).finally(() => {\n      dispatch({\n        type: 'logout'\n      })\n    })\n  }\n\n  useEffect(() => {\n    document.addEventListener('fullscreenchange', handleFullScreen);\n\n    return () => document.removeEventListener('fullscreenchange', handleFullScreen);\n  });\n\n  return (\n    <header className={`${className} header`}>\n      <img className=\"header__logo\" src={logo} alt=\"Sendsay logo\" />\n      <h1 className=\"header__heading\">API‑консолька</h1>\n      <p className=\"header__user-info\">\n        <span>{account}</span>\n        {account !== sublogin && <span>{sublogin}</span>}\n      </p>\n      <Button className=\"header__button button--transparent button--text-left button--rounded button--padded\" onClick={performLogout}>\n        <span className=\"button__text\">Выйти</span>\n        <IconLogout />\n      </Button>\n      <Button className=\"header__button button--transparent button--rounded button--padded\" onClick={toggleFullScreen}>\n        <VisuallyHidden>Развернуть на полный экран</VisuallyHidden>\n        {isFullScreen ?\n          <IconFullScreen />\n        :\n          <IconPartScreen />\n        }\n      </Button>\n    </header>\n  );\n};\n\nexport { Header };\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"circle\", {\n  cx: 2.929,\n  cy: 2,\n  r: 2,\n  fill: \"currentColor\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"circle\", {\n  cx: 2.929,\n  cy: 9,\n  r: 2,\n  fill: \"currentColor\"\n});\n\nvar _ref4 = /*#__PURE__*/React.createElement(\"circle\", {\n  cx: 2.929,\n  cy: 16,\n  r: 2,\n  fill: \"currentColor\"\n});\n\nvar SvgIconDots = function SvgIconDots(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 5,\n    height: 18,\n    viewBox: \"0 0 5 18\",\n    fill: \"none\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2, _ref3, _ref4);\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgIconDots, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/icon-dots.2a2f53cc.svg\";\nexport { ForwardRef as ReactComponent };","import React, { useState, useRef, useEffect } from 'react';\nimport { Button } from '../Button/Button';\nimport { setPropertyValue } from '../../utils';\nimport { ReactComponent as IconDots } from '../../assets/img/icon-dots.svg';\nimport './RequestDropdown.css';\n\nlet RequestDropdown = ({\n    className,\n    dropdownDataSource,\n    onClick,\n    historyItem\n  }) => {\n  const [isMenuVisible, setMenuVisibility] = useState(false);\n  const [isMenuPositioned, setMenuPositioned] = useState(false);\n  const [isNotificationVisible, setNotificationVisibility] = useState(false);\n\n  const requestDropdownRef = useRef();\n  const requestDropdownMenuRef = useRef();\n\n  const NOTIFICATION_TIMEOUT = 2000;\n\n  const positionMenu = () => {\n    /* TODO:\n    - разобраться с кейсом, когда видны скроллы,\n    - учесть скролл страницы в вычислениях\n    - учесть скролл истории запросов в вычислениях\n    */\n    const dropdownBounds = requestDropdownRef.current.getBoundingClientRect();\n    const menu = requestDropdownMenuRef.current;\n    const menuBounds = menu.getBoundingClientRect();\n\n    // флаг, что показанный попап ушёл за левую гланицу экрана\n    const isLeftBoundPassed = dropdownBounds.right - menuBounds.width < 0;\n\n    // флаг, что показанный попап ушёл за нижнюю гланицу экрана\n    const isBottomBoundPassed = dropdownBounds.bottom + menuBounds.height > window.innerHeight;\n\n    const leftMenuCoord = (isLeftBoundPassed) ?\n      // меню выравнивается по левой части дропдауна\n      dropdownBounds.left\n      :\n      // меню выравнивается по правой части дропдауна\n      dropdownBounds.right - menuBounds.width;\n\n    const topMenuCoord = (isBottomBoundPassed) ?\n      // меню позиционируется сверху дропдауна\n      dropdownBounds.top - menuBounds.height\n      :\n      // меню позиционируется снизу дропдауна\n      dropdownBounds.top + dropdownBounds.height;\n\n    // по дефолту меню показывается снизу дропдауна\n    // и выравнивается по его правой части\n    setPropertyValue(menu, 'left', leftMenuCoord + 'px');\n    setPropertyValue(menu, 'top', topMenuCoord + 'px');\n  }\n\n  const toggleMenu = () => setMenuVisibility(!isMenuVisible);\n\n  const onMenuItemClick = (callback, withNotificationCallback) => {\n    toggleMenu();\n\n    callback(historyItem, withNotificationCallback ?\n      () => {\n        setNotificationVisibility(true);\n        setTimeout(() => setNotificationVisibility(false), NOTIFICATION_TIMEOUT);\n      } : null\n    );\n  }\n\n  useEffect(() => {\n    // если меню видимо, оно позиционируется\n    if (isMenuVisible) {\n      positionMenu();\n      setMenuPositioned(true);\n    }\n\n    return () => setMenuPositioned(false);\n  }, [isMenuVisible])\n\n  useEffect(() => {\n    // если меню видимо, то включается обработчик,\n    // отслеживающий клики по всему документу,\n    // чтобы закрывать меню по клику вне выпадающего меню\n    if (isMenuVisible) {\n      const handleDocumentClick = (event) => {\n        if (!requestDropdownRef.current.contains(event.target)) {\n          setMenuVisibility(false);\n        };\n      }\n\n      // а также обработчик, отслеживающий нажатие с клавиатуры\n      // по всему документу, чтобы закрывать меню по нажатию клавиши ESC\n      const handleDocumentKeyPress = ({ key }) => {\n        if (key === 'Escape') {\n          setMenuVisibility(false);\n        }\n      };\n\n      document.addEventListener('click', handleDocumentClick);\n      document.addEventListener('keydown', handleDocumentKeyPress);\n\n      return () => {\n        document.removeEventListener('click', handleDocumentClick);\n        document.removeEventListener('keydown', handleDocumentKeyPress);\n      }\n    }\n  }, [isMenuVisible]);\n\n  return (\n    <div className={`${className} request-dropdown request-dropdown--${historyItem.status ? 'success' : 'fail'}`} ref={requestDropdownRef}>\n      <div className={`request-dropdown__wrap ${isNotificationVisible ? 'request-dropdown__wrap--overflow' : ''}`}>\n        <Button className=\"request-dropdown__data-button button--transparent button--rounded\" onClick={() => onClick(historyItem)}>\n          <span className=\"request-dropdown__action-name\">\n            {historyItem.request.action || '-'}\n          </span>\n        </Button>\n        <Button className=\"request-dropdown__menu-button button--transparent button--rounded\" onClick={toggleMenu}>\n          <IconDots />\n        </Button>\n        {isNotificationVisible && <span className=\"request-dropdown__notification\">\n          Скопировано\n        </span>}\n      </div>\n      <div className={`\n          request-dropdown__menu\n          ${isMenuVisible ? 'request-dropdown__menu--visible' : ''}\n          ${isMenuPositioned ? 'request-dropdown__menu--positioned' : ''}\n        `}\n        ref={requestDropdownMenuRef}\n      >\n        {dropdownDataSource.map((set, index) =>\n          <p className=\"request-dropdown__menu-items-set\" key={index}>\n            {set.map(item =>\n              <Button key={item.text}\n                className={`\n                  request-dropdown__menu-item\n                  button--transparent\n                  button--rounded\n                  ${item.isDestructive ? 'request-dropdown__menu-item--destructive' : ''}\n                `}\n                onClick={() => onMenuItemClick(item.onClick, item.withNotificationCallback)}\n              >\n                {item.text}\n              </Button>\n            )}\n          </p>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport { RequestDropdown };\n","import React, { useState, useRef, useEffect } from 'react';\nimport { setPropertyValue } from '../../utils';\nimport './Scrollable.css';\n\nconst Scrollable = ({ className, childClassName, children }) => {\n  const DELTA_MULTIPLICATOR = 3;\n  const [scrollDelta, setScrollDelta] = useState(0);\n  const scrollableContainerRef = useRef();\n  const scrollableContentRef = useRef();\n\n  /* TODO:\n  - оптимизировать,\n  - добавить тротлинг,\n  - нормализовать колесо\n  */\n  const onWheel = (event) => {\n    event.preventDefault();\n\n    const scrollContainerWidth = scrollableContainerRef.current.offsetWidth;\n    const scrollContentWidth = scrollableContentRef.current.offsetWidth;\n\n    if (scrollContentWidth > scrollContainerWidth) {\n      const scrollPeriod = scrollContainerWidth - scrollContentWidth;\n      let transformValue;\n\n      if (scrollDelta > 0) {\n        transformValue = 0;\n      } else if (scrollDelta < scrollPeriod) {\n        transformValue = scrollPeriod;\n      } else {\n        transformValue = scrollDelta - event.deltaY * DELTA_MULTIPLICATOR;\n      }\n\n      setScrollDelta(transformValue);\n    }\n  }\n\n  useEffect(() => {\n    setPropertyValue(\n      scrollableContentRef.current,\n      '--scroll-delta',\n      scrollDelta + 'px'\n    );\n  }, [scrollDelta])\n\n  return (\n    <div className={`${className} scrollable`} ref={scrollableContainerRef} onWheel={onWheel}>\n      <div className={`${childClassName} scrollable__content`} ref={scrollableContentRef}>\n        {children}\n      </div>\n    </div>\n  );\n};\n\nexport { Scrollable };\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M1 1l18 18M19 1L1 19\",\n  stroke: \"currentColor\",\n  strokeWidth: 2,\n  strokeLinecap: \"round\"\n});\n\nvar SvgIconCross = function SvgIconCross(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 20,\n    height: 20,\n    viewBox: \"0 0 20 20\",\n    fill: \"none\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2);\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgIconCross, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/icon-cross.15b27ee3.svg\";\nexport { ForwardRef as ReactComponent };","import React from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { v4 as uuidv4 } from 'uuid';\nimport { Button } from '../Button/Button';\nimport { RequestDropdown } from '../RequestDropdown/RequestDropdown';\nimport { Scrollable } from '../Scrollable/Scrollable';\nimport { VisuallyHidden } from '../VisuallyHidden/VisuallyHidden';\nimport { formatJSON } from '../../utils';\nimport { ReactComponent as IconCross } from './icon-cross.svg';\nimport './History.css';\n\nconst History = ({\n    className,\n    onLoadRequestFromHistory,\n    onExecuteRequestFromHistory\n  }) => {\n\n  const dispatch = useDispatch();\n  const requestHistory = useSelector(state => state.requestHistory);\n\n  const clearHistory = () => dispatch({\n    type: 'clearHistory'\n  });\n\n  const handleLoad = (historyItem) => onLoadRequestFromHistory(historyItem);\n\n  const handleExecute = (historyItem) => onExecuteRequestFromHistory(historyItem);\n\n  const handleCopy = (historyItem, callback) => {\n    navigator.clipboard.writeText(formatJSON(historyItem.request)).catch(error =>\n      console.log(error)\n    ).finally(callback);\n  }\n\n  const handleDelete = ({ request }) => {\n    dispatch({\n      type: 'removeRequestFromHistory',\n      request\n    });\n  }\n\n  const dropdownDataSource = [\n    [\n      { text: 'Выполнить', onClick: handleExecute },\n      { text: 'Скопировать', onClick: handleCopy, withNotificationCallback: true }\n    ],\n    [\n      { text: 'Удалить', onClick: handleDelete, isDestructive: true}\n    ]\n  ];\n\n  return (\n    <div className={`${className} history`}>\n      <Scrollable className=\"history__container\" childClassName=\"history__items\">\n        {requestHistory && requestHistory.map(historyItem =>\n          <RequestDropdown\n            onClick={handleLoad}\n            dropdownDataSource={dropdownDataSource}\n            historyItem={historyItem}\n            className=\"history__item\"\n            key={\n              historyItem.status ?\n                // валидный запрос возвращает request.id,\n                // который тут и используется\n                historyItem.response['request.id']\n              :\n                // невалидный запрос не возвращает request.id,\n                // поэтому id нужно сгенерировать\n                historyItem.response.id + uuidv4()\n            }\n          />\n        )}\n      </Scrollable>\n      {requestHistory && requestHistory.length > 0 &&\n        <div className=\"history__button-wrap\">\n            <Button className=\"button--transparent button--rounded button--padded\" onClick={clearHistory}>\n            <VisuallyHidden>Очистить историю запросов</VisuallyHidden>\n            <IconCross />\n          </Button>\n        </div>\n      }\n    </div>\n  );\n}\n\nexport { History };\n","import React from 'react';\nimport { Controlled as CodeMirror } from 'react-codemirror2';\nimport 'codemirror/mode/javascript/javascript';\nimport 'codemirror/lib/codemirror.css';\nimport 'codemirror/theme/idea.css';\nimport './Editor.css';\n\nconst Editor = ({ className, title, readOnly, onChange, value }) => {\n  const editorSettings = {\n    theme: 'idea',\n    mode: 'javascript',\n    lineWrapping: true,\n    readOnly\n  }\n\n  return (\n    <section className={`${className} editor`}>\n      <h2 className=\"editor__heading\">{title}:</h2>\n      <CodeMirror\n        className=\"editor__wrap\"\n        value={value}\n        onBeforeChange={(editor, data, value) => onChange(value)}\n        options={editorSettings}\n      />\n    </section>\n  );\n};\n\nexport { Editor };\n","import React, { useEffect, useState, useRef } from 'react';\nimport { Button } from '../Button/Button';\nimport { VisuallyHidden } from '../VisuallyHidden/VisuallyHidden';\nimport { ReactComponent as IconDots } from '../../assets/img/icon-dots.svg';\nimport './Separator.css';\n\nconst Separator = ({\n    className,\n    handleDrag\n  }) => {\n\n  const [isDragging, setIsDragging] = useState(false);\n  const separatorRef = useRef();\n\n  useEffect(() => {\n    const removeDrag = () => setIsDragging(false);\n\n    if (isDragging) {\n      document.addEventListener('mousemove', handleDrag);\n      document.addEventListener('mouseup', removeDrag);\n\n      return () => {\n        document.removeEventListener('mousemove', handleDrag);\n        document.removeEventListener('mouseup', removeDrag);\n      }\n    }\n  }, [isDragging, handleDrag]);\n\n  return (\n    <div className={`${className} separator`} ref={separatorRef}>\n      <Button className=\"separator__drag-button button button--transparent\" onMouseDown={() => setIsDragging(true)}>\n        <VisuallyHidden>Перетащить для изменения размера панелей</VisuallyHidden>\n        <IconDots />\n      </Button>\n    </div>\n  );\n}\n\nexport { Separator };\n","import React, { useRef, useLayoutEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Editor } from '../Editor/Editor';\nimport { Separator } from '../Separator/Separator';\nimport { setPropertyValue } from '../../utils';\nimport './EditorsSet.css';\n\nconst EditorsSet = ({\n    className,\n    handleChange,\n    requestValue,\n    responseValue,\n    isRequestValid,\n    isResponseValid\n  }) => {\n\n  const dispatch = useDispatch();\n  const editorsResizeDelta = useSelector(state => state.editorsResizeDelta);\n  const editorSetRef = useRef();\n\n  const handleDrag = (event) => {\n    dispatch({\n      type: 'setEditorsResizeDelta',\n      delta: event.movementX\n    });\n  }\n\n  useLayoutEffect(() => {\n    setPropertyValue(\n      editorSetRef.current,\n      '--resize-delta',\n      editorsResizeDelta + 'px'\n    );\n  }, [editorsResizeDelta])\n\n  return (\n    <div className={`${className} editors-set`} ref={editorSetRef}>\n      <Editor\n        className={`\n          editors-set__item\n          editors-set__item--request\n          ${!isRequestValid ? 'editor--warn' : ''}\n        `}\n        title=\"Запрос\"\n        onChange={handleChange}\n        value={requestValue}\n        resizeDelta={editorsResizeDelta}\n      />\n      <Separator className=\"editors-set__separator\" handleDrag={handleDrag} resizeDelta={editorsResizeDelta} />\n      <Editor\n        className={`\n        editors-set__item\n        editors-set__item--response\n        ${!isResponseValid ? 'editor--warn' : ''}\n      `}\n        title=\"Ответ\"\n        readOnly={true}\n        value={responseValue}\n        resizeDelta={-editorsResizeDelta}\n      />\n    </div>\n  );\n}\n\nexport { EditorsSet };\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"g\", {\n  opacity: 0.8,\n  stroke: \"currentColor\",\n  strokeWidth: 2,\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\"\n}, /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M21 10H7M11 6H3M12 14H7M7 18H3\"\n}));\n\nvar SvgIconFormat = function SvgIconFormat(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 24,\n    height: 24,\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2);\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgIconFormat, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/icon-format.c03b8910.svg\";\nexport { ForwardRef as ReactComponent };","import React from 'react';\nimport { Button } from '../Button/Button';\nimport { UserLink } from '../UserLink/UserLink';\nimport { ReactComponent as IconFormat } from './icon-format.svg';\nimport './Actions.css';\n\nconst Actions = ({ className, performRequest, formatRequest, isDisabled }) => {\n  return (\n    <footer className={`${className} actions`}>\n      <Button className=\"button--primary button--blue button--rounded button--padded\" onClick={performRequest} disabled={isDisabled}>\n        Отправить\n      </Button>\n\n      <UserLink />\n\n      <Button className=\"actions__button button--transparent button--text-right button--rounded button--padded\" onClick={formatRequest}>\n        <IconFormat />\n        <span className=\"button__text\">Форматировать</span>\n      </Button>\n    </footer>\n  );\n}\n\nexport { Actions };\n","import React, { useState, useContext, useEffect, useCallback, useRef } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Header } from '../Header/Header';\nimport { History } from '../History/History';\nimport { EditorsSet } from '../EditorsSet/EditorsSet';\nimport { Actions } from '../Actions/Actions';\nimport { SendsayContext } from '../../context/SendsayContext';\nimport { formatJSON } from '../../utils';\nimport { isEqual } from '../../utils';\nimport './Console.css';\n\nconst Console = () => {\n  const sendsay = useContext(SendsayContext);\n\n  const [requestJSON, setRequestJSON] = useState('');\n  const [responseJSON, setResponseJSON] = useState('');\n  const [isRequestValid, setRequestValidity] = useState(true);\n  const [isResponseValid, setResponseValidity] = useState(true);\n  const [isRequestEmpty, setRequestEmptiness] = useState(true);\n  const [needToPerformRequest, setNeedToPerformRequest] = useState(false);\n\n  const dispatch = useDispatch();\n  const session = useSelector(state => state.session);\n  const requestHistory = useSelector(state => state.requestHistory);\n\n  const mainRef = useRef();\n\n  const handleChange = (newValue) => {\n    setRequestJSON(newValue);\n  }\n\n  const formatRequest = () => {\n    if (!validateRequest()) {\n      return;\n    }\n\n    setRequestJSON(\n      formatJSON(JSON.parse(requestJSON))\n    );\n  }\n\n  const handleResponse = ({ request, response, status }) => {\n    setResponseJSON(formatJSON(response));\n    setResponseValidity(status);\n\n    const historyItem = {\n      request,\n      response,\n      status\n    };\n\n    // проверяем, выполнялся ли подобный запрос ранее\n    // (есть ли он в истории запросов)\n    const includedElement = requestHistory.filter(item =>\n      isEqual(item.request, historyItem.request)\n    );\n\n    // если такого запроса ещё нет в истории\n    // то  переходим к добавлению запроса в начало истории\n    if (includedElement.length === 0) {\n      // если в истории уже есть максимум запросов или меньше,\n      // то выполняем добавление запроса в историю\n      if (requestHistory.length < 15) {\n        dispatch({\n          type: 'prependRequestToHistory',\n          historyItem\n        })\n      }\n    // если запрос уже есть в истории,\n    // то выполняем перенос запроса в начало истории\n    } else {\n      dispatch({\n        type: 'prependExistingRequestToHistory',\n        historyItem: includedElement[0]\n      })\n    }\n  }\n\n  const performRequest = () => {\n    if (!validateRequest()) {\n      return;\n    }\n\n    const request = JSON.parse(requestJSON);\n\n    sendsay.request({\n      ...request,\n      ...{ session: session }\n    }).then(\n      // успешный запрос\n      response => handleResponse({ request, response, status: true }),\n      // запрос с ошибкой\n      response => handleResponse({ request, response, status: false })\n    ).catch(error =>\n      console.log(error)\n    )\n  }\n\n  const validateRequest = () => {\n    let result = true;\n    try {\n      JSON.parse(requestJSON);\n    } catch (error) {\n      result = false;\n    }\n\n    // сайд эффектом проверки валидности запроса\n    // задаётся состояние isRequestValid\n    setRequestValidity(result);\n\n    return result;\n  }\n\n  const loadRequestFromHistory = (historyItem) => {\n    setRequestJSON(formatJSON(historyItem.request));\n    setResponseJSON(formatJSON(historyItem.response));\n    setRequestValidity(true);\n    setResponseValidity(historyItem.status);\n  }\n\n  const executeRequestFromHistory = (historyItem) => {\n    setRequestJSON(formatJSON(historyItem.request));\n    setNeedToPerformRequest(true);\n  }\n\n  const performRequestCallback = useCallback(performRequest);\n\n  useEffect(() => {\n    setRequestEmptiness(requestJSON.trim().length === 0);\n  }, [requestJSON])\n\n  useEffect(() => {\n    if (needToPerformRequest) {\n      performRequestCallback();\n    }\n\n    return () => setNeedToPerformRequest(false);\n  }, [needToPerformRequest, performRequestCallback])\n\n  return (\n    <main className=\"console\" ref={mainRef}>\n      <Header className=\"console__header\" mainRef={mainRef} />\n      <History\n        className=\"console__history\"\n        onLoadRequestFromHistory={loadRequestFromHistory}\n        onExecuteRequestFromHistory={executeRequestFromHistory}\n      />\n      <EditorsSet\n        className=\"console__editors-set\"\n        handleChange={handleChange}\n        requestValue={requestJSON}\n        isRequestValid={isRequestValid}\n        isResponseValid={isResponseValid}\n        isRequestEmpty={isRequestEmpty}\n        responseValue={responseJSON}\n      />\n      <Actions\n        className=\"console__actions\"\n        performRequest={performRequest}\n        requestJSON={requestJSON}\n        formatRequest={formatRequest}\n        isDisabled={isRequestEmpty}\n      />\n    </main>\n  );\n}\n\nexport { Console };\n","import React, { useEffect, useContext } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { LoginContainer } from '../LoginContainer/LoginContainer';\nimport { Console } from '../Console/Console';\nimport { SendsayContext } from '../../context/SendsayContext';\nimport './App.css';\n\nconst App = () => {\n  // Логин: zyuzinvitaly@gmail.com x_1592047529949069\n  // Сублогин: test\n  // Пароль: tHfo2jQ9iMpOhv (chi3Kopil)\n\n  const dispatch = useDispatch();\n  const session = useSelector(state => state.session);\n  const sendsay = useContext(SendsayContext);\n\n  useEffect(() => {\n    sendsay.request({\n      session,\n      action: 'pong'\n    }).then(({ account, sublogin }) =>\n      dispatch({\n        type: 'setUserData',\n        userData: {\n          account,\n          sublogin\n        }\n      })\n    ).catch(error => {\n      if (error.id === 'error/auth/failed') {\n        dispatch({\n          type: 'logout'\n        });\n      }\n    })\n  }, [session, sendsay, dispatch])\n\n  return (\n    <SendsayContext.Provider value={sendsay}>\n      {session ?\n        <Console />\n      :\n        <LoginContainer />\n      }\n    </SendsayContext.Provider>\n  );\n}\n\nexport { App };\n","export const actionTypes = {\n  // user\n  LOGIN: 'login',\n  LOGOUT: 'logout',\n  SET_USER_DATA: 'setUserData',\n\n  // history\n  PREPEND_REQUEST_TO_HISTORY: 'prependRequestToHistory',\n  PREPEND_EXISTING_REQUEST_TO_HISTORY: 'prependExistingRequestToHistory',\n  REMOVE_REQUEST_FROM_HISTORY: 'removeRequestFromHistory',\n  CLEAR_HISTORY: 'clearHistory',\n\n  // editors\n  SET_EDITORS_RESIZE_DELTA: 'setEditorsResizeDelta'\n}\n","import { isEqual } from '../../utils';\nimport { actionTypes } from '../actionTypes';\n\nconst initialState = {\n  session: null,\n  sublogin: null,\n  account: null,\n  requestHistory: [],\n  editorsResizeDelta: 0\n}\n\nexport const reducer = (state = initialState, action) => {\n  switch (action.type) {\n    // user\n    case actionTypes.LOGIN:\n      return {\n        ...state,\n        session: action.session\n      };\n    case actionTypes.LOGOUT:\n      return {\n        ...state,\n        session: null\n      };\n    case actionTypes.SET_USER_DATA:\n      return {\n        ...state,\n        sublogin: action.userData.sublogin,\n        account: action.userData.account\n      };\n\n    // history\n    case actionTypes.PREPEND_REQUEST_TO_HISTORY:\n      // работаем с копией массива истории запросов\n      const requestHistoryCopy = state.requestHistory.slice();\n\n      // добавляем элемент в начало массива\n      requestHistoryCopy.unshift(action.historyItem);\n\n      return {\n        ...state,\n        requestHistory: requestHistoryCopy\n      };\n    case actionTypes.PREPEND_EXISTING_REQUEST_TO_HISTORY:\n      // работаем с копией массива истории запросов\n      let requestHistoryFilteredCopy = state.requestHistory.slice();\n\n      // убираем элемент и массива\n      requestHistoryFilteredCopy = requestHistoryFilteredCopy.filter(item =>\n        !isEqual(item.request, action.historyItem.request)\n      );\n\n      // а затем добавляем элемент в начало\n      requestHistoryFilteredCopy.unshift(action.historyItem);\n      return {\n        ...state,\n        requestHistory: requestHistoryFilteredCopy\n      };\n    case actionTypes.REMOVE_REQUEST_FROM_HISTORY:\n      return {\n        ...state,\n        requestHistory: state.requestHistory.filter(item =>\n          !isEqual(item.request, action.request)\n        )\n      };\n    case actionTypes.CLEAR_HISTORY:\n      return {\n        ...state,\n        requestHistory: []\n    };\n\n    // editors\n    case actionTypes.SET_EDITORS_RESIZE_DELTA:\n      return {\n        ...state,\n        editorsResizeDelta: state.editorsResizeDelta + action.delta\n      };\n    default:\n      return state;\n  }\n}\n\n","import { createStore } from 'redux';\nimport { persistStore, persistReducer } from 'redux-persist';\nimport storage from 'redux-persist/lib/storage';\nimport { reducer } from './redux/reducers';\n\nconst persistConfig = {\n  key: 'sendsay',\n  storage\n}\n\nconst persistedReducer = persistReducer(persistConfig, reducer);\n\nexport const store = createStore(persistedReducer);\nexport const persistor = persistStore(store);\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './assets/css/index.css';\nimport './assets/css/variables.css';\nimport { App } from './components/App/App';\nimport { Provider } from 'react-redux';\nimport { PersistGate } from 'redux-persist/integration/react';\nimport { store, persistor } from './configureStore';\n\nReactDOM.render(\n  <Provider store={store}>\n    <PersistGate loading={null} persistor={persistor}>\n      <App />\n    </PersistGate>\n  </Provider>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}